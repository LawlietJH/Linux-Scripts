#!/bin/bash

function isValidIP(){
	ip='^((2([0-4][0-9]|5[0-5])?|[0-1]?[0-9]{1,2})?\.){3}'
	ip+='((2([0-4][0-9]|5[0-5])?|[0-1]?[0-9]{1,2})?)'
	limit='6([0-4][0-9]{3}|5([0-4][0-9]{2}|5([0-2][0-9]|3[0-5])))'
	port='(:(([0-9]{1,4})|([0-5]?[0-9]{1,4})|('$limit')))?$'
        [[ $1 =~ $ip$port ]] && return 1 || return 0
}
isValidIP $1; valid=$?

[[ $valid -eq 1 ]] && echo 'true' || echo 'false'
